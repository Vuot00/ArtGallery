<div class="profilo-container" *ngIf="artista">

  <div class="header-card">
    <div class="avatar-big">
      {{ artista.nome.charAt(0).toUpperCase() }}
    </div>
    <div class="info">
      <h1>{{ artista.nome }}</h1>
      <p>{{ artista.email }}</p>
      
      <span class="badge-artista" *ngIf="hasRole(artista, 'ROLE_ARTISTA')">
        ðŸŽ¨ Artista Verificato
    </span>

    </div>
  </div>

  <div class="section-title">
    <h3>Opere di {{ artista.nome }}</h3>
  </div>

  <div class="mini-grid">
    <div class="mini-card" *ngFor="let opera of opere">

      <div [routerLink]="['/opera', opera.id]" style="cursor: pointer;">

        <div class="img-container" style="position: relative;">

          <div class="overlay-sold" *ngIf="opera.venduta">
            <span>VENDUTA</span>
          </div>

          <img *ngIf="opera.immagini?.length > 0"
               [src]="'http://localhost:8080/uploads/' + opera.immagini[0].url"
               alt="{{ opera.titolo }}"
               style="width: 100%; height: 180px; object-fit: cover; display: block;">

        </div>

        <div class="mini-info">
          <strong>{{ opera.titolo }}</strong>

          <span [style.text-decoration]="opera.venduta ? 'line-through' : 'none'"
                [style.color]="opera.venduta ? '#999' : '#3f51b5'">
          â‚¬ {{ opera.prezzo }}
        </span>

          <span *ngIf="opera.venduta" style="color: #d32f2f; font-size: 0.8rem; font-weight: bold;">
           (Non disponibile)
        </span>
        </div>

      </div>

    </div>
  </div>
</div>
